数据表用于在数据库中存储数据，在创建数据表之前，你需要通过USE db_name` 指定数据库。

# 一、创建数据表

```mysql
CREATE TABLE 表名 (
    属性名 数据类型 [完整约束条件],
    属性名 数据类型 [完整约束条件],
    ...
    ...
    属性名 数据类型 [完整约束条件]
);
```

【示例 1】创建数据表

```mysql
# 创建数据表
mysql> CREATE TABLE stus (
    -> id INT,
    -> name VARCHAR(45),
    -> major VARCHAR(45),
    -> age INT,
    -> admission_date DATE
    -> );
Query OK, 0 rows affected (0.02 sec)

# 查看已创建的数据表
mysql> SHOW TABLES;
+-------------------+
| Tables_in_db_test |
+-------------------+
| stus              |
+-------------------+
1 row in set (0.00 sec)

# 查看指定数据表结构
mysql> DESC stus;
+----------------+-------------+------+-----+---------+-------+
| Field          | Type        | Null | Key | Default | Extra |
+----------------+-------------+------+-----+---------+-------+
| id             | int(11)     | YES  |     | NULL    |       |
| name           | varchar(45) | YES  |     | NULL    |       |
| major          | varchar(45) | YES  |     | NULL    |       |
| age            | int(11)     | YES  |     | NULL    |       |
| admission_date | date        | YES  |     | NULL    |       |
+----------------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)
```

# 二、修改数据表

为实现数据库中表规范化设计的目的，有时候需要对之前已经创建的表进行结构修改或者调整。

在 MySQL中可以使用 **ALTER TABLE** 语句来改变原有表的结构，例如增加或删减列、创建或取消索引、更改原有列类型、重新命名列或表等。

常用的语法格式如下：

```mysql
ALTER TABLE <表名> [修改选项]
```

修改选项的语法格式如下：

```mysql
{ 
   ADD COLUMN <列名> <类型>
    | CHANGE COLUMN <旧列名> <新列名> <新列类型>
    | ALTER COLUMN <列名> { SET DEFAULT <默认值> | DROP DEFAULT }
    | MODIFY COLUMN <列名> <类型>
    | DROP COLUMN <列名>
    | RENAME TO <新表名> 
}
```

## 1. 添加字段

```mysql
ALTER TABLE <表名> ADD <新字段名> <数据类型> [约束条件] [FIRST|AFTER 已存在的字段名];
```

- `新字段名`为需要添加的字段的名称；
- `FIRST` 为可选参数，其作用是将新添加的字段设置为表的第一个字段；
- `AFTER` 为可选参数，其作用是将新添加的字段添加到指定的`已存在的字段名`的后面。

代码示例：在infos表中的age字段后添加一个email字段，示例如下：

```mysql
mysql> ALTER TABLE infos 
    -> ADD email VARCHAR(65) AFTER age;
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(25) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| email | varchar(65) | YES  |     | NULL    |                |
| tel   | int(11)     | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
6 rows in set (0.00 sec)
```

> 提示：“FIRST 或 AFTER 已存在的字段名”用于指定新增字段在表中的位置，如果 SQL 语句中没有这两个参数，则默认将新添加的字段设置为数据表的最后列。

## 2. 修改字段类型

```mysql
ALTER TABLE <表名> MODIFY <字段名> <数据类型>;
```

- `表名`指要修改数据类型的字段所在表的名称
- `字段名`指需要修改的字段
- `数据类型`指修改后字段的新数据类型。

代码示例：将name字段的数据类型从 `varchar(25)` 修改为 `varchar(65)` ，示例如下：

```mysql
mysql> ALTER TABLE infos
    -> MODIFY name VARCHAR(65);
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(65) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| email | varchar(65) | YES  |     | NULL    |                |
| tel   | int(11)     | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
6 rows in set (0.00 sec)
```

语句执行后，发现表 test_db 中 name 字段的数据类型已经修改成 VARCHAR(65)，修改成功。

## 3. 删除字段

```mysql
ALTER TABLE <表名> DROP <字段名>；
```

代码示例：删除email字段，示例如下：

```mysql
mysql> ALTER TABLE infos
    -> DROP email;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(65) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| tel   | int(11)     | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
5 rows in set (0.00 sec)
```

可以看到，email字段已经被删除

## 4. 修改字段名称

```mysql
ALTER TABLE <表名> CHANGE <旧字段名> <新字段名> <新数据类型>；
```

- `旧字段名`：指修改前的字段名；
- `新字段名`：指修改后的字段名；
- `新数据类型`：指修改后的数据类型，如果不需要修改字段的数据类型，可以将新数据类型设置成与原来一样，但数据类型不能为空。

代码示例：将tel修改成email，数据类型为varchar(65)，示例如下：

```mysql
mysql> ALTER TABLE infos
    -> CHANGE tel email VARCHAR(65);
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(65) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| email | varchar(65) | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
5 rows in set (0.01 sec)
```

CHANGE 也可以只修改数据类型，实现和 MODIFY 同样的效果，方法是将 SQL 语句中的“新字段名”和“旧字段名”设置为相同的名称，只改变“数据类型”。

> 提示：由于不同类型的数据在机器中的存储方式及长度并不相同，修改数据类型可能会影响数据表中已有的数据记录，因此，当数据表中已经有数据时，不要轻易修改数据类型。

## 5. 修改表名

```mysql
ALTER TABLE <旧表名> RENAME [TO] <新表名>；
```

> 提示：`TO` 为可选参数，使用与否均不影响结果。

代码示例：将stus修改为stu_infos。

```mysql
mysql> ALTER TABLE stus RENAME stu_infos;
Query OK, 0 rows affected (0.03 sec)

mysql> SHOW TABLES;
+-------------------+
| Tables_in_test_db |
+-------------------+
| stu_infos         |
+-------------------+
1 row in set (0.01 sec)
```

# 三、删除数据表

```mysql
DROP TABLE [IF EXISTS] <表名> [ , <表名1> , <表名2>] …
```

```mysql
mysql> DROP TABLE stu_infos;
Query OK, 0 rows affected (0.02 sec)

mysql> SHOW TABLES;
+-------------------+
| Tables_in_test_db |
+-------------------+
| stu_infos         |
+-------------------+
1 row in set (0.00 sec)
```

# 四、约束

上面创建表的时候涉及到一个完整性约束条件，下面就列出一个完整性约束条件表：

| 约束条件       | 说明                                               |
| -------------- | -------------------------------------------------- |
| PRIMARY KEY    | 标识该属性为该表的主键，唯一性                     |
| FOREIGN KEY    | 标识该属性为该表的外键，是与之联系某表的主键       |
| NOT NULL       | 标识该属性不能为空                                 |
| UNIQUE         | 标识该属性的值是唯一的                             |
| AUTO_INCREMENT | 标识该属性的值是自动增加，这是MySQL的SQL语句的特色 |
| DEFAULT        | 为该属性设置默认值                                 |
| CHECK          | 为该属性设置检查约束                               |

查看表约束：

```mysql
SHOW CREATE TABLE <表名>
```











