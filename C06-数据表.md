数据表用于在数据库中存储数据，在创建数据表之前，你需要通过 `USE db_name` 指定数据库。

# 一、创建数据表

```mysql
CREATE TABLE 表名 (
    属性名 数据类型 [完整约束条件],
    属性名 数据类型 [完整约束条件],
    ...
    属性名 数据类型 [完整约束条件]
);
```

【实例 01】创建数据表

```mysql
# 创建数据表
mysql> CREATE TABLE stus (
    -> id INT PRIMARY KEY AUTO_INCREMENT,
    -> name CHAR(20) NOT NULL,
    -> age INT CHECK(age >= 0 AND age <= 100) NOT NULL,
    -> gender CHAR(10) NOT NULL,
    -> origin CHAR(20) NOT NULL,
    -> major CHAR(20) NOT NULL,
    -> height FLOAT NOT NULL
    -> );
Query OK, 0 rows affected (0.03 sec)

# 查看已创建的数据表
mysql> SHOW TABLES;
+-------------------+
| Tables_in_db_stus |
+-------------------+
| stus              |
+-------------------+
1 row in set (0.01 sec)

# 查看指定数据表结构
mysql> DESC stus;
+--------+----------+------+-----+---------+----------------+
| Field  | Type     | Null | Key | Default | Extra          |
+--------+----------+------+-----+---------+----------------+
| id     | int(11)  | NO   | PRI | NULL    | auto_increment |
| name   | char(20) | NO   |     | NULL    |                |
| age    | int(11)  | NO   |     | NULL    |                |
| gender | char(10) | NO   |     | NULL    |                |
| origin | char(20) | NO   |     | NULL    |                |
| major  | char(20) | NO   |     | NULL    |                |
| height | float    | NO   |     | NULL    |                |
+--------+----------+------+-----+---------+----------------+
7 rows in set (0.01 sec)
```

# 二、修改数据表

常用的语法格式如下：

```mysql
ALTER TABLE <表名> [修改选项]
```

## 1. 添加字段

```mysql
ALTER TABLE <表名> ADD <新字段名> <数据类型> [约束条件] [FIRST|AFTER 已存在的字段名];
```

- `新字段名`为需要添加的字段的名称；
- `FIRST` 为可选参数，其作用是将新添加的字段设置为表的第一个字段；
- `AFTER` 为可选参数，其作用是将新添加的字段添加到指定的`已存在的字段名`的后面。

【实例 02】在stus表中major后面添加school字段，示例如下：

```mysql
mysql> ALTER TABLE stus 
    -> ADD school CHAR(20) NOT NULL AFTER major;
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC stus;
+--------+----------+------+-----+---------+----------------+
| Field  | Type     | Null | Key | Default | Extra          |
+--------+----------+------+-----+---------+----------------+
| id     | int(11)  | NO   | PRI | NULL    | auto_increment |
| name   | char(20) | NO   |     | NULL    |                |
| age    | int(11)  | NO   |     | NULL    |                |
| gender | char(10) | NO   |     | NULL    |                |
| origin | char(20) | NO   |     | NULL    |                |
| major  | char(20) | NO   |     | NULL    |                |
| school | char(20) | NO   |     | NULL    |                |
| height | float    | NO   |     | NULL    |                |
+--------+----------+------+-----+---------+----------------+
8 rows in set (0.00 sec)
```

> 提示：“FIRST 或 AFTER 已存在的字段名”用于指定新增字段在表中的位置，如果 SQL 语句中没有这两个参数，则默认将新添加的字段设置为数据表的最后列。

## 2. 修改字段类型

```mysql
ALTER TABLE <表名> MODIFY <字段名> <数据类型>;
```

- `表名`指要修改数据类型的字段所在表的名称
- `字段名`指需要修改的字段
- `数据类型`指修改后字段的新数据类型。

【实例 03】修改school数据类型为text

```mysql
mysql> ALTER TABLE stus MODIFY school TEXT;
Query OK, 0 rows affected (0.04 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC stus;
+--------+----------+------+-----+---------+----------------+
| Field  | Type     | Null | Key | Default | Extra          |
+--------+----------+------+-----+---------+----------------+
| id     | int(11)  | NO   | PRI | NULL    | auto_increment |
| name   | char(20) | NO   |     | NULL    |                |
| age    | int(11)  | NO   |     | NULL    |                |
| gender | char(10) | NO   |     | NULL    |                |
| origin | char(20) | NO   |     | NULL    |                |
| major  | char(20) | NO   |     | NULL    |                |
| school | text     | YES  |     | NULL    |                |
| height | float    | NO   |     | NULL    |                |
+--------+----------+------+-----+---------+----------------+
8 rows in set (0.00 sec)
```

## 3. 删除字段

```mysql
ALTER TABLE <表名> DROP <字段名>；
```
【实例 04】删除school字段：
```mysql
mysql> ALTER TABLE stus DROP school;
Query OK, 0 rows affected (0.04 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC stus;
+--------+----------+------+-----+---------+----------------+
| Field  | Type     | Null | Key | Default | Extra          |
+--------+----------+------+-----+---------+----------------+
| id     | int(11)  | NO   | PRI | NULL    | auto_increment |
| name   | char(20) | NO   |     | NULL    |                |
| age    | int(11)  | NO   |     | NULL    |                |
| gender | char(10) | NO   |     | NULL    |                |
| origin | char(20) | NO   |     | NULL    |                |
| major  | char(20) | NO   |     | NULL    |                |
| height | float    | NO   |     | NULL    |                |
+--------+----------+------+-----+---------+----------------+
7 rows in set (0.00 sec)
```

## 4. 修改字段名称

```mysql
ALTER TABLE <表名> CHANGE <旧字段名> <新字段名> <新数据类型>；
```

【实例 05】将gender修改成sex

```mysql
mysql> ALTER TABLE stus CHANGE gender sex CHAR(10) NOT NULL;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC stus;
+--------+----------+------+-----+---------+----------------+
| Field  | Type     | Null | Key | Default | Extra          |
+--------+----------+------+-----+---------+----------------+
| id     | int(11)  | NO   | PRI | NULL    | auto_increment |
| name   | char(20) | NO   |     | NULL    |                |
| age    | int(11)  | NO   |     | NULL    |                |
| sex    | char(10) | NO   |     | NULL    |                |
| origin | char(20) | NO   |     | NULL    |                |
| major  | char(20) | NO   |     | NULL    |                |
| height | float    | NO   |     | NULL    |                |
+--------+----------+------+-----+---------+----------------+
7 rows in set (0.00 sec)
```

> 提示：由于不同类型的数据在机器中的存储方式及长度并不相同，修改数据类型可能会影响数据表中已有的数据记录，因此，当数据表中已经有数据时，不要轻易修改数据类型。

## 5. 修改表名

```mysql
ALTER TABLE <旧表名> RENAME [TO] <新表名>;
RENAME TABLE <旧表名> TO <新表名>;
```

代码示例：将stus修改为stu_infos。

```mysql
mysql> ALTER TABLE stus RENAME stu_infos;
Query OK, 0 rows affected (0.03 sec)

mysql> SHOW TABLES;
+-------------------+
| Tables_in_test_db |
+-------------------+
| stu_infos         |
+-------------------+
1 row in set (0.01 sec)
```

# 三、删除数据表

```mysql
DROP TABLE [IF EXISTS] <表名> [ , <表名1> , <表名2>] …
```

```mysql
mysql> DROP TABLE stu_infos;
Query OK, 0 rows affected (0.02 sec)

mysql> SHOW TABLES;
+-------------------+
| Tables_in_test_db |
+-------------------+
| stu_infos         |
+-------------------+
1 row in set (0.00 sec)
```

# 四、约束

上面创建表的时候涉及到一个完整性约束条件，下面就列出一个完整性约束条件表：

| 约束条件       | 说明                                               |
| -------------- | -------------------------------------------------- |
| PRIMARY KEY    | 标识该属性为该表的主键，唯一性                     |
| FOREIGN KEY    | 标识该属性为该表的外键，是与之联系某表的主键       |
| NOT NULL       | 标识该属性不能为空                                 |
| UNIQUE         | 标识该属性的值是唯一的                             |
| AUTO_INCREMENT | 标识该属性的值是自动增加，这是MySQL的SQL语句的特色 |
| DEFAULT        | 为该属性设置默认值                                 |
| CHECK          | 为该属性设置检查约束                               |

查看表约束：

```mysql
SHOW CREATE TABLE <表名>
```

# 五、表相关指令总结

```mysql
# 1. 创建表
CREATE TABLE <表格名> ([列名 数据类型 约束条件],...);
# 2. 添加字段
ALTER TABLE <表格名> ADD <列名> <数据类型> <约束条件> [FIRST|AFTER];
# 3. 修改字段类型
ALTER TABLE <表格名> MODIFY <列名> <数据类型> <约束条件>;
# 4. 修改字段名称
ALTER TABLE <表格名> CHANGE <旧列名> <新列名> <数据类型> <约束条件>;
# 5. 删除字段
ALTER TABLE <表格名> DROP <列名>
# 6. 修改表名
ALTER TABLE <表格名> RENAME TO <新表名>
# 7. 删除表
DROP  TABLE <表格名>
```











