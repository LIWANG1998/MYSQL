在创建数据库之后，接下来就要在数据库中创建数据表。所谓创建数据表，指的是在已经创建的数据库中建立新表。

创建数据表的过程是规定数据列的属性的过程，同时也是实施数据完整性（包括实体完整性、引用完整性和域完整性）约束的过程。接下来我们介绍一下创建数据表的语法形式。

# 一、创建数据表

## 1. 语法

```mysql
CREATE TABLE <表名> ([表定义选项])[表选项][分区选项];
```

其中，表定义选项的格式为：

```mysql
<列名1> <类型1> [,…] <列名n> <类型n>
```

CREATE TABLE 语句的主要语法及使用说明如下：

- CREATE TABLE：用于创建给定名称的表，必须拥有表CREATE的权限。
- <表名>：指定要创建表的名称，在 CREATE TABLE 之后给出，必须符合标识符命名规则。表名称被指定为 db_name.tbl_name，以便在特定的数据库中创建表。无论是否有当前数据库，都可以通过这种方式创建。在当前数据库中创建表时，可以省略 db-name。如果使用加引号的识别名，则应对数据库和表名称分别加引号。例如，'mydb'.'mytbl' 是合法的，但 'mydb.mytbl' 不合法。
- <表定义选项>：表创建定义，由列名（col_name）、列的定义（column_definition）以及可能的空值说明、完整性约束或表索引组成。
- 默认的情况是，表被创建到当前的数据库中。若表已存在、没有当前数据库或者数据库不存在，则会出现错误。

> 提示：使用 CREATE TABLE 创建表时，必须指定以下信息：
>
> - 要创建的表的名称不区分大小写，不能使用SQL语言中的关键字，如DROP、ALTER、INSERT等。
> - 数据表中每个列（字段）的名称和数据类型，如果创建多个列，要用逗号隔开。

## 2. 示例

**-> 在指定数据库中创建表：**

数据表属于数据库，在创建数据表之前，应使用语句“USE<数据库>”指定操作在哪个数据库中进行，如果没有选择数据库，就会抛出 No database selected 的错误。

创建信息表，表结构如下所示：

| 字段名称 | 数据类型    | 备注         |
| -------- | ----------- | ------------ |
| id       | INT         | 标识         |
| name     | VARCHAR(25) | 员工名称     |
| major    | VARCHAR(65) | 所在部门编号 |
| age      | INT         | 工资         |
| tel      | INT         | 电话         |
创建并查看表：
```mysql
mysql> CREATE TABLE test_db.infos (
    -> id INT AUTO_INCREMENT,
    -> name VARCHAR(25),
    -> major VARCHAR(65),
    -> age INT,
    -> tel INT,
    -> PRIMARY KEY(id));
Query OK, 0 rows affected (0.04 sec)

mysql> SHOW TABLES;
+-------------------+
| Tables_in_test_db |
+-------------------+
| infos             |
+-------------------+
1 row in set (0.00 sec)
```

**-> 查看表结构：**

语法形式：

```mysql
DESC <表名>; 
SHOW CREATE TABLE <表名>;
```

代码示例：

```mysql
mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(25) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| tel   | int(11)     | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
5 rows in set (0.00 sec)
```

# 二、修改数据表

为实现数据库中表规范化设计的目的，有时候需要对之前已经创建的表进行结构修改或者调整。

在 MySQL中可以使用 **ALTER TABLE** 语句来改变原有表的结构，例如增加或删减列、创建或取消索引、更改原有列类型、重新命名列或表等。

常用的语法格式如下：

```mysql
ALTER TABLE <表名> [修改选项]
```

修改选项的语法格式如下：

```mysql
{ ADD COLUMN <列名> <类型>
| CHANGE COLUMN <旧列名> <新列名> <新列类型>
| ALTER COLUMN <列名> { SET DEFAULT <默认值> | DROP DEFAULT }
| MODIFY COLUMN <列名> <类型>
| DROP COLUMN <列名>
| RENAME TO <新表名> }
```

## 1. 添加字段

```mysql
ALTER TABLE <表名> ADD <新字段名> <数据类型> [约束条件] [FIRST|AFTER 已存在的字段名];
```

- `新字段名`为需要添加的字段的名称；
- `FIRST` 为可选参数，其作用是将新添加的字段设置为表的第一个字段；
- `AFTER` 为可选参数，其作用是将新添加的字段添加到指定的`已存在的字段名`的后面。

代码示例：在infos表中的age字段后添加一个email字段，示例如下：

```mysql
mysql> ALTER TABLE infos 
    -> ADD email VARCHAR(65) AFTER age;
Query OK, 0 rows affected (0.05 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(25) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| email | varchar(65) | YES  |     | NULL    |                |
| tel   | int(11)     | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
6 rows in set (0.00 sec)
```

> 提示：“FIRST 或 AFTER 已存在的字段名”用于指定新增字段在表中的位置，如果 SQL 语句中没有这两个参数，则默认将新添加的字段设置为数据表的最后列。

## 2. 修改字段类型

```mysql
ALTER TABLE <表名> MODIFY <字段名> <数据类型>;
```

- `表名`指要修改数据类型的字段所在表的名称
- `字段名`指需要修改的字段
- `数据类型`指修改后字段的新数据类型。

代码示例：将name字段的数据类型从 `varchar(25)` 修改为 `varchar(65)` ，示例如下：

```mysql
mysql> ALTER TABLE infos
    -> MODIFY name VARCHAR(65);
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(65) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| email | varchar(65) | YES  |     | NULL    |                |
| tel   | int(11)     | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
6 rows in set (0.00 sec)
```

语句执行后，发现表 test_db 中 name 字段的数据类型已经修改成 VARCHAR(65)，修改成功。

## 3. 删除字段

```mysql
ALTER TABLE <表名> DROP <字段名>；
```

代码示例：删除email字段，示例如下：

```mysql
mysql> ALTER TABLE infos
    -> DROP email;
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(65) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| tel   | int(11)     | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
5 rows in set (0.00 sec)
```

可以看到，email字段已经被删除

## 4. 修改字段名称

```mysql
ALTER TABLE <表名> CHANGE <旧字段名> <新字段名> <新数据类型>；
```

- `旧字段名`：指修改前的字段名；
- `新字段名`：指修改后的字段名；
- `新数据类型`：指修改后的数据类型，如果不需要修改字段的数据类型，可以将新数据类型设置成与原来一样，但数据类型不能为空。

代码示例：将tel修改成email，数据类型为varchar(65)，示例如下：

```mysql
mysql> ALTER TABLE infos
    -> CHANGE tel email VARCHAR(65);
Query OK, 0 rows affected (0.02 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> DESC infos;
+-------+-------------+------+-----+---------+----------------+
| Field | Type        | Null | Key | Default | Extra          |
+-------+-------------+------+-----+---------+----------------+
| id    | int(11)     | NO   | PRI | NULL    | auto_increment |
| name  | varchar(65) | YES  |     | NULL    |                |
| major | varchar(65) | YES  |     | NULL    |                |
| age   | int(11)     | YES  |     | NULL    |                |
| email | varchar(65) | YES  |     | NULL    |                |
+-------+-------------+------+-----+---------+----------------+
5 rows in set (0.01 sec)
```

CHANGE 也可以只修改数据类型，实现和 MODIFY 同样的效果，方法是将 SQL 语句中的“新字段名”和“旧字段名”设置为相同的名称，只改变“数据类型”。

> 提示：由于不同类型的数据在机器中的存储方式及长度并不相同，修改数据类型可能会影响数据表中已有的数据记录，因此，当数据表中已经有数据时，不要轻易修改数据类型。



# 三、删除数据表

